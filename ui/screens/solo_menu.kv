<SoloMenu>
    name: 'solo_menu'
    FloatLayout:
        ActionBar:
            background_color: 0,.6,1,1
            id: ac
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    with_previous: False
                    size_hint_x: None
                    width: self.height
                    on_release: smsm.toggle_state()
                ActionLabel:
                    id: aclabel
                    text: 'SoloAdventures'
                    text_size: self.width  , None

 ##BUG:
    #        ActionGroup does not dismiss when switching the current Screen by
    #    pressing the ActionGroup Buttons

                ActionGroup:
                    text: 'Add'
                    ActionButton:
                        text: 'Add card'
                        on_release: root.manager.current = 'add_card'
                    ActionButton:
                        id: cdb
                        text: 'Create deck'
                        on_release: root.show_createdeck()
                ActionButton:
                    text: 'Backup'
                ActionButton:
                    text: 'Help'
    SlideMenu
        id: smsm
        size_hint_y: None
        height: root.height - ac.height
        anim_type: 'slide_above_anim'
        BoxLayout:
            orientation: 'vertical'
            spacing: '1dp'
            Button:
                text: 'Decks'
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'decks pressed'
                color:[0,0,0,.8]
                background_normal: ''
                background_color: 1,1,1,1
            Button:
                text: 'Card Browser'
                color:[0,0,0,.8]
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'card browser pressed'
                background_normal: ''
                background_color: 1,1,1,1
            Button:
                text: 'Statistics'
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'statistics pressed'
                color:[0,0,0,.8]
                background_normal: ''
                background_color: 1,1,1,1
            Button:
                text: 'Settings'
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'settings pressed'
                color:[0,0,0,.8]
                background_normal: ''
                background_color: 1,1,1,1
            Button:
                text: 'Help'
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'halp pressed'
                color:[0,0,0,.8]
                background_normal: ''
                background_color: 1,1,1,1
            Button:
                text: 'Send feedback'
                text_size: self.width *1/2 ,  None
                on_x: self.state = 'normal'
                on_release: if smsm._anim_progress >=1 : print 'send feedback pressed'
                color:[0,0,0,.8]
                background_normal: ''
                background_color: 1,1,1,1
            Widget:
                size_hint: 1,2.5
                canvas:
                    Color:
                        rgba: 1,1,1,1
                    Rectangle:
                        pos: self.pos
                        size: self.size
        ScrollBox
            BoxLayout:
                id: bl
                size_hint_y: None
                height: fl1.height
                canvas:
                    Color:
                        rgba: 1,1,1,.9
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Widget:
                    size_hint_x: .05
                FloatLayout:
                    size_hint_y: None
                    height: root.height - ac.height
                    id: fl1
                    Button:
                        id: b1
                        size_hint_y: None
                        height: '50dp'
                        x: fl1.x
                        y: root.height - ac.height - self.height * 3/2
                        color: 0,0,0,1
                        text_size: (self.width * 4.7/5.7 , None)
                        background_normal: ''
                        background_color: 1,1,1,1
                        on_release: root.manager.switch_to_deckplay(self)

                Widget:
                    size_hint_x: .05
