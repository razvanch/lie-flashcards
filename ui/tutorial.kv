<ScreenManager>:
    MainMenu
    PlayMenu
    SoloMenu
    DeckMenu
    AddCard
    PlayDeck
    
<MainMenu>
    name: 'main_menu'
    BoxLayout:
        canvas:
            Color:
                rgba: 0,0.1,0,1
            Rectangle:
                pos: self.pos   
                size: self.size
        BoxLayout:
            size_hint_x: 0.6
            orientation: 'vertical'
            Widget
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'bottom'
                Label:
                    size_hint: 0.4, 0.1
                    font_size: '10dp'
                    text: 'version 1.00'
        BoxLayout
            #size_hint_y: 0.7
            orientation: 'vertical'
            spacing: '20dp'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'L I E'
                    bold: True
                    font_size: '72dp'
                    color: 0.5,0,0,1
                Label:
                    size_hint_y: 0.1
                    text: '-- learning is easy --'
            Widget:
                size_hint_y: 0.5
            BoxLayout
                spacing: 5
                orientation: 'vertical'
                canvas:
                    Color: 
                        rgba: 0,0.6,1,1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Button
                    background_color: 1,1,1,1
                    background_normal: '' 
                    text: 'Play'
                    color: 0.6,0,0,1
                    on_state: root.manager.current = 'play_menu'
                Button
                    text: 'Solo Adventures'
                    color: 0.6,0,0,1
                    background_normal: '' 
                    on_state: root.manager.current = 'solo_menu'
                Button
                    text: 'Collection'
                    color: 0.6,0,0,1
                    background_normal: '' 
                    on_state: root.manager.current = 'deck_menu'
            Widget:
                size_hint_y: 0.5
        Widget:
            size_hint_x: 0.6
<PlayMenu>
    name: 'play_menu'
    SlideMenu
        anim_type: 'slide_above_anim'
        BoxLayout:
            id: sv
            orientation: 'vertical'
            
            BoxLayout:
                orientation: 'vertical'
                Button:
                    text: 'Decks'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Card Browser'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Statistics'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Settings'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Help'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
	        Widget:
	            size_hint: 1,.4
	            canvas:
	                Color:
	                    rgba: 1,1,1,1
	                Rectangle:
	                    pos: self.pos
	                    size: self.size
        Label: 
            text: 'This Page is under construction  Check back soon'
<SoloMenu>
    name: 'solo_menu'
    FloatLayout:
        ActionBar:
            background_color: 0,.6,1,1
            id: ac
            #background_image: ''
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    with_previous: False
                    size_hint_x: None
                    width: self.height
                    #previous_image: ''
                    on_release: smsm.toggle_state() 
                ActionLabel:
                    id: aclabel
                    text: 'SoloAdventures'
                    text_size: self.width  , None
                ActionGroup:
                    text: 'Add'
                    ActionButton:
                        text: 'Add card'
                        on_release: root.manager.current = 'add_card'
                    ActionButton:
                        text: 'Create deck'
                        on_release: root.show_createdeck()
                ActionButton:
                    text: 'Backup'
                ActionButton:
                    text: 'Help'
    SlideMenu
        id: smsm
        size_hint_y: None
        height: root.height - ac.height
        anim_type: 'slide_above_anim'
        BoxLayout:
            id: sv
            orientation: 'vertical'
            
            BoxLayout:
                orientation: 'vertical'
                Button:
                    text: 'Decks'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Card Browser'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Statistics'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Settings'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Help'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
            Widget:
                size_hint: 1,.4
                canvas:
                    Color:
                        rgba: 1,1,1,1
                    Rectangle:
                        pos: self.pos
                        size: self.size
        BoxLayout:
            canvas:
                Color:
                    rgba: 1,1,1,.9
                Rectangle:
                    pos: self.pos  
                    size: self.size
            Widget:
                size_hint_x: .05
            BoxLayout:
                id: bl1
                orientation: 'vertical'
                spacing: '20dp'
                Widget
                    size_hint_y: .05
                Button:
                    size_hint_y: .12
                    color: 0,0,0,1
                    text: 'Default'
                    text_size: self.width * 3/4 , None
                    background_normal: ''
                    background_color: 1,1,1,1
                    on_release: root.manager.current = 'play_deck'
                Button:
                    size_hint_y: .12
                    color: 0,0,0,1
                    text: 'New Deck'
                    text_size: self.width * 3/4 , None
                    background_normal: ''
                    background_color: 1,1,1,1
                Widget
            Widget:
                size_hint_x: .05
            #Image:
                #source: 'Bundesarchiv_Bild_101I-299-1805-16,_Nordfrankreich,_Panzer_VI_(Tiger_I).2.png'
<DeckMenu>
    name: 'deck_menu'
    SlideMenu
        anim_type: 'slide_above_anim'
        BoxLayout:
            id: box1
            orientation: 'vertical'
            
            BoxLayout:
                orientation: 'vertical'
                Button:
                    text: 'Decks'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Card Browser'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Statistics'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Settings'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
                Button:
                    text: 'Help'
                    color:[0,0,0,.8]
                    background_color:(3, 3, 3, 1)
            Widget:
                size_hint: 1,.4
                canvas:
                    Color:
                        rgba: 1,1,1,1
                    Rectangle:
                        pos: self.pos
                        size: self.size
        Label
            text: 'This Page is under construction  Check back soon'

<PlayDeck>
    name: 'play_deck'
    BoxLayout:
        orientation: 'vertical'
        ActionBar:
            background_color: 0,.6,1,1
            id: ac
            #background_image: ''
            pos_hint: {'top':1}
            ActionView:
                ActionPrevious:
                    with_previous: True
                    size_hint_x: None
                    width: self.height
                    on_release: root.manager.current = 'solo_menu'
                ActionLabel:
                    text: 'Default'
                    text_size: self.width  , None 
                ActionButton:
                    text: 'Add card'
                    on_release: root.manager.current = 'add_card'
        BoxLayout:
            canvas:
                Color:
                    rgba: 1,1,1,.9
                Rectangle:
                    pos: self.pos
                    size: self.size
            Widget
                size_hint_x: .05
            BoxLayout
                spacing: '20dp'
                orientation: 'vertical'
                Widget:
                BoxLayout
                    orientation: 'vertical'
                    spacing: '5dp'
                    canvas:
                        Color:
                            rgba: 1,1,1,.9
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        color: 0,0,0,1
                        text: 'Default'
                        font_size: 20
                    Widget
                Button
                    size_hint_y: .5
                    background_normal: ''
                    background_color: 1,1,1,1
                    color: 0,0,0,1
                    text: 'Study'
                Widget                   
            Widget
                size_hint_x: .05
           
<AddCard>:
    name: 'add_card'
    BoxLayout:
        orientation: 'vertical'
        ActionBar:
            background_color: 0,.6,1,1
            id: ac
            #background_image: ''
            pos_hint: {'top':1}
            ActionView:
                ActionPrevious:
                    with_previous: True
                    size_hint_x: None
                    width: self.height
                    on_release: root.manager.current = 'solo_menu'
                ActionLabel:
                    text: 'Add new card'
                    text_size: self.width  , None 
                ActionButton:
                    text: 'Create card'
        ScrollView:
            BoxLayout:
                Widget
                    size_hint_x:0.05
                    canvas:
                        Color:
                            rgba: 1,1,1,.9
                        Rectangle:
                            pos: self.pos  
                            size: self.size
                BoxLayout:
                    canvas:
                        Color:
                            rgba: 1,1,1,.9
                        Rectangle:
                            pos: self.pos   
                            size: self.size
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint_y: 0.7
                        orientation: 'vertical'
                        BoxLayout:
                            id: b1
                            Label:
                                size_hint_x: 0.3
                                text: 'Card type:'
                                #text_size: self.width, None
                                color: 0,0,0,1
                            Button:
                                canvas.before:
                                    Color:
                                        rgba: 0,0,0,1
                                    Rectangle:
                                        pos: self.x , self.y+self.height/4  
                                        size: self.width,1
                                canvas:
                                    Color:
                                        rgba: 0,0,0,1
                                    Triangle:
                                        points: self.x+self.width,self.y+self.height/4, self.x+self.width-12,self.y+self.height/4, self.x+self.width,self.y+ self.height/4+12
                                id: butp
                                text: 'Default'
                                text_size: self.width -self.width/4 , None
                                color: 0,0,0,1
                                background_color: 0,0,0,0
                                #background_normal: ''
                                #background_down: 'atlas://data/images/defaulttheme/button'
                                on_release: root.show_modal1()
                        BoxLayout:
                            Label:
                                size_hint_x: 0.3
                                text: 'Deck:'
                                #text_size: self.width, None
                                color: 0,0,0,1
				            Button:
                                canvas.before:
                                    Color:
                                        rgba: 0,0,0,1
                                    Rectangle:
                                        pos: self.x , self.y+self.height/4  
                                        size: self.width,1
                                canvas:
                                    Color:
                                        rgba: 0,0,0,1
                                    Triangle:
                                        points: self.x+self.width,self.y+self.height/4, self.x+self.width-12,self.y+self.height/4, self.x+self.width,self.y+ self.height/4+12
                                id: butd
                                text: 'Default'
                                color: 0,0,0,1
                                background_color: 0,0,0,0
                                background_normal: ''
                                text_size: self.width -self.width/4 , None
                                background_down: 'atlas://data/images/defaulttheme/button'
                                on_release: root.show_modal2()
                    BoxLayout:
                        canvas:
                            Color:
                                rgba: 1,1,1,1
                            Rectangle:
                                pos: self.pos   
                                size: self.size
                        size_hint_y: 0.9
                        Widget:
                            size_hint_x: .05
                        BoxLayout:
                            orientation: 'vertical'
                            Label
                                text: 'Front'
                                font_size: '20dp'
                                text_size: self.width , None
                                color: 0,0,0,1
                            TextInput
                                id: txt1
                                text: 'card front'
                                font_size: '25dp'
                            Label:
                                text: 'Back'
                                font_size: '20dp'
                                text_size: self.width, None
                                color: 0,0,0,1
                            TextInput
                                id: txt2
                                text: 'card back'
                                font_size: '25dp'
                            Label
                                size_hint_y: 0.2
                        Widget:
                            size_hint_x: .2
                    Button
                        background_normal: ''
                        background_color: 0,0,0,0
                Widget:
                    size_hint_x:0.05
                    canvas.before:
                        Color:
                            rgba: 1,1,1,.9
                        Rectangle:
                            pos: self.pos  
                            size: self.size          

<CustomModal1>:
    id: cm
    background: ''
    size_hint: .8, .3
    pos_hint: {'left': 0.7, 'top': .885}
    background_color: 0,0,0,.1
    BoxLayout:
        BoxLayout
            size_hint_x:2
            orientation: 'vertical'
            Button:
                canvas:
                    Color:
                        rgba: 0,0,0,1
                    Rectangle:
                        pos: self.pos   
                        size: self.width, 1
                id: bu1
                text: 'Default'
                text_size: self.width -self.width/4, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                on_press: ch1._toggle_active()
                on_release: root.dismiss()
			
            Button:
                canvas:
                    Color:
                        rgba: 0,0,0,1
                    Rectangle:
                        pos: self.pos   
                        size: self.width, 1
                id: bu2
                text: 'Cloze'
                text_size: self.width -self.width/4, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                on_press: ch2._toggle_active()
                on_release: root.dismiss()
            Button:
                id: bu3
                text: 'Lcoze'
                text_size: self.width - self.width/4 , None
                color: 0,0,0,1
                background_color: 0,0,0,0
                on_press: ch3._toggle_active()
                on_release: root.dismiss()
        BoxLayout
            BoxLayout
                orientation: 'vertical'
                CheckBox:
                    name: 'Default'
                    canvas:
                        Color:
                            rgba: 0,0,0,1
                        Rectangle:
                            pos: self.pos   
                            size: self.width, 1
                    id: ch1
                    background_radio_normal: 'cerc.png'
                    background_radio_down: 'cerc_down.png'	
                    on_release: root.dismiss()
                    group: 'pops'
                CheckBox:
                    name: 'Cloze'
                    canvas:
                        Color:
                            rgba: 0,0,0,1
                        Rectangle:
                            pos: self.pos   
                            size: self.width, 1
                    id: ch2
                    background_radio_normal: 'cerc.png'
                    background_radio_down: 'cerc_down.png'
                    on_release: root.dismiss()
                    group: 'pops'
                CheckBox:
                    name: 'Lcoze'
                    value: 'down'
                    id: ch3
                    background_radio_normal: 'cerc.png'
                    background_radio_down: 'cerc_down.png'
                    on_release: root.dismiss()
                    group: 'pops'
        
<CustomModal2>:
    background: ''
    size_hint: .8 ,.2
    pos_hint: {'left': 0 , 'top': .75}
    background_color: 0,0,0,.1
    BoxLayout:
        orientation: 'vertical'
        Button:
            canvas.before:
                Color:
                    rgba: 0,0,0,1
                Rectangle:
                    pos: self.pos
                    size: self.width,1
            id: cm1
            background_color: 0,0,0,0
            text: 'Click me to dismiss'
            color: 0,0,0,1
            text_size: self.width - self.width/4 , None
            on_release: root.dismiss()
        Button:
            background_color: 0,0,0,0
            text: 'Ura'
            color: 0,0,0,1
            text_size: self.width -self.width/4 , None
            on_release: root.dismiss()  
    
<CreateDeck>:
    background: ''
    size_hint: .6 ,.2
    pos_hint: {'left': .5 , 'top': .75}
    background_color: 0,0,0,.2
    BoxLayout:
        orientation: 'vertical'
        Label
            text: "Create new deck"
            text_size: self.width*6/7, None
            color: 0,0,0,1
        BoxLayout:
            Widget:
                size_hint_x: .05
            TextInput
                font_size: '25dp'
            Widget:
                size_hint_x: .05
        BoxLayout:
            Button:
                canvas:
                    Color:
                        rgba: 0,0,0,1
                    Rectangle:
                        pos: self.x+self.width , self.y+self.height/4
                        size: 1, self.height/2
                text: 'Create'
                color: 0,0,0,1
                background_color: 0,0,0,0
            Button:
                text: 'Cancel'
                color:0,0,0,1
                background_color: 0,0,0,0
                on_release: root.dismiss()
    
